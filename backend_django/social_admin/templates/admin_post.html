<!DOCTYPE html>
<html lang="en">
<head>
{% load static %}
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Admin - Create Community & Post</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="{% static 'css/responsive.css' %}">

<style>
body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #6366f1, #8b5cf6, #ec4899);
    color: white;
    margin: 0;
    min-height: 100vh;
    padding: 20px;
}

/* Navbar */
.navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
}
.navbar a {
    text-decoration: none;
    color: white;
    font-weight: 500;
}
.navbar a:hover { text-decoration: underline; }

/* Form Container */
.container {
    background: rgba(255,255,255,0.15);
    backdrop-filter: blur(12px);
    border-radius: 18px;
    padding: 30px;
    max-width: 800px;
    margin: auto;
    animation: fadeUp 1s ease;
}

/* Headings */
h2 { text-align: center; margin-bottom: 20px; }

/* Form Fields */
form label {
    display: block;
    margin-bottom: 6px;
    font-weight: 600;
}
form input, form textarea, form select {
    width: 100%;
    padding: 8px 12px;
    margin-bottom: 15px;
    border-radius: 10px;
    border: none;
}

/* File Upload */
input[type="file"] {
    background: rgba(255,255,255,0.25);
    color: black;
}

/* Toggle Add Post */
.add-post-toggle {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
    cursor: pointer;
}
.add-post-toggle input {
    width: 20px;
    height: 20px;
    cursor: pointer;
}

/* Post Section */
.post-section {
    display: none;
    background: rgba(255,255,255,0.1);
    padding: 15px;
    border-radius: 12px;
    margin-bottom: 15px;
}

/* Buttons */
button {
    padding: 10px 18px;
    border: none;
    border-radius: 20px;
    background: #facc15;
    color: black;
    font-weight: 600;
    cursor: pointer;
    transition: 0.3s;
}
button:hover { background: #fde047; transform: scale(1.05); }

/* Animations */
@keyframes fadeUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
</style>

<script>
function togglePostSection() {
    const checkbox = document.getElementById('addPostCheckbox');
    const postSection = document.getElementById('postSection');
    postSection.style.display = checkbox.checked ? 'block' : 'none';
}
</script>
</head>
<body>

<div class="navbar">
    <a href="#">â¬… Back to Dashboard</a>
</div>

<div class="container">
    <h2>Create Community & Post</h2>

    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- Community Fields -->
        <label for="name">Community Name</label>
        <input type="text" id="name" name="name" placeholder="Enter community name" required>

        <label for="thumbnail">Thumbnail Image</label>
        <input type="file" id="thumbnail" name="thumbnail" accept="image/*">

        <label for="description">Description</label>
        <textarea id="description" name="description" rows="4" placeholder="Enter community description"></textarea>

        <!-- Add Post Toggle -->
        <div class="add-post-toggle">
            <input type="checkbox" id="addPostCheckbox" onclick="togglePostSection()">
            <label for="addPostCheckbox">Add a Post to this Community?</label>
        </div>

        <!-- Post Section -->
        <div id="postSection" class="post-section">
            <label for="post_caption">Post Caption</label>
            <textarea id="post_caption" name="post_caption" rows="3" placeholder="Enter post caption"></textarea>

            <label for="post_media">Post Image/Video</label>
            <input type="file" id="post_media" name="post_media" accept="image/*,video/*">
        </div>

        <button type="submit">Create Community</button>
    </form>
</div>

</body>
</html>
